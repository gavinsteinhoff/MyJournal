function preGraph(n,t,i,r){chart&&chart.destroy();switch(n){case 1:createLineChart(t,i,r);break;case 2:createDoughnutChart(t,i,r)}}function createLineChart(n,t,i){let r=0,u=[];$.each(t,function(n,t){r+=t});r=r/t.length;r=r.toFixed(1);$.each(n,function(){u.push(r)});chart=new Chart(document.getElementById(global.chartName),{type:"line",data:{labels:n,datasets:[{borderColor:"#38a9e4",data:t,fill:!1},{borderColor:"#fff000",data:u,fill:!1}]},options:i})}function createDoughnutChart(n,t,i){chart&&chart.destroy();chart=new Chart(document.getElementById(global.chartName),{type:"doughnut",data:{labels:n,datasets:[{borderColor:"#000000",data:t,backgroundColor:["#ff0000","#ff7b00","#ffff00","#8cff00","#13a520",]}]},options:i})}let chart;